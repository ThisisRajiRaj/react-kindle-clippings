(this["webpackJsonpreact-kindle-clippings-example"]=this["webpackJsonpreact-kindle-clippings-example"]||[]).push([[0],{21:function(e,t,n){e.exports=n(35)},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),l=n.n(i),o=n(16),s=n(11),c=n(20),u=n(17),h=n(9),d=n.n(h),g=n(13),p=n(14),f=n(15),m=n(7),b=n(18),k=n(19),v=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,[{key:"parse",value:function(){var e=Object(g.a)(d.a.mark((function e(t){var n,a,r,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:return a=e.sent,r=a.split("=========="),i=r.map(this.parseHighlight).filter((function(e){return!1!==e})),l={},i.forEach((function(e){var t,n=e.title;void 0===l[n]?(t=[],l[n]=t):t=l[n],t.push({metadata:e.metadata,text:e.text})})),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseHighlight",value:function(e){var t=e.trim().split("\n"),n=t[0].trim(),a=t[1],r=t.slice(2);return!(0===n.length||!a.startsWith("- Your Highlight"))&&(void 0!==r&&(r=r.join("\n").trim()),{title:n,metadata:a,text:r})}},{key:"groupHighlights",value:function(e){var t={};return e.forEach((function(e){var n,a=e.title;void 0===t[a]?(n=[],t[a]=n):n=t[a],n.push({metadata:e.metadata,text:e.text})})),t}}]),e}(),y=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this)).state={selectedBook:"Select",selectedBookHighlights:[],highlightsTable:{},url:e.url},a.handleClick=a.handleClick.bind(Object(s.a)(a)),a}return Object(f.a)(n,[{key:"getHighlightsTable",value:function(){var e=Object(g.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new v,e.next=3,t.parse(this.state.url);case 3:n=e.sent,this.setState((function(e){return{highlightsTable:n}}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getHighlightsTable(),this.getHighlights("Select")}},{key:"handleClick",value:function(e){console.log(e.currentTarget.textContent),this.getHighlights(e.currentTarget.textContent)}},{key:"getHighlights",value:function(e){var t=this;this.setState((function(n){return{selectedBook:e,selectedBookHighlights:t.state.highlightsTable[e]?t.state.highlightsTable[e]:[]}}))}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.highlightsTable).length-5,n=void 0;t>0&&(n=r.a.createElement(m.a.Item,{onClick:this.handleClick,id:"bookdropdownMore",key:"bookdropdownMore",eventKey:"Select",disabled:"true"},"...there are more books. Type book name you are looking for."));var i=r.a.forwardRef((function(e,t){var i=e.children,l=e.style,s=e.className,c=e["aria-labelledby"],u=Object(a.useState)(""),h=Object(o.a)(u,2),d=h[0],g=h[1];return r.a.createElement("div",{ref:t,style:l,className:s,"aria-labelledby":c},r.a.createElement(k.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Type to filter...",onChange:function(e){return g(e.target.value)},value:d}),r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(i).filter((function(e){return!d||e.props.children.toLowerCase().includes(d)})).slice(0,5),n))}));return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(m.a.Toggle,{id:"dropdown-custom-components"},this.state.selectedBook),r.a.createElement(m.a.Menu,{as:i},Object.keys(this.state.highlightsTable).map((function(t){return r.a.createElement(m.a.Item,{onClick:e.handleClick,id:"bookdropdown".concat(t),key:"bookdropdown".concat(t),eventKey:t},t)})))),r.a.createElement("br",null),this.state.selectedBookHighlights.map((function(e){return r.a.createElement(b.a,{body:!0},e.text)})))}}]),n}(a.Component),x=(n(34),function(){return r.a.createElement(y,{url:"https://thisisrajiraj.github.io/posts/kindleclippings.txt"})});l.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.b8937f6a.chunk.js.map